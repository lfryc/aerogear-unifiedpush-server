<div class="actions pull-right ups-main-action">
  <button class="btn btn-primary" ng-click="variants.add()"><span class="pficon pficon-add"></span> Add a variant</button>
</div>

<h3>You have {{ appDetail.app.variants.length }} Variants</h3>

<div class="panel panel-default ups-panel" ng-repeat="(variantType, variantList) in variants.byType">
  <div class="panel-heading ups-has-icon ups-variant-{{ variantType }}">
    <h3 class="panel-title">{{ variants.typeEnum[variantType].name }} Variants</h3>
    <ul class="list-inline">
      <li><span class="pficon pficon-messages"></span> <strong>???</strong> Delivered</li>
      <li><i class="fa fa-mobile"></i> <strong>???</strong> Devices</li>
    </ul>
  </div>
  <div class="panel-body">

    <div class="ups-variant" ng-repeat="variant in variantList">

      <div class="ups-variant-header">
        <div class="actions pull-right">
          <ul class="list-inline">
            <li><a href="#"><span class="fa fa-power-off"></span> Disable</a></li>
            <li><a href="#"><span class="pficon pficon-edit"></span> Edit</a></li>
            <li class="danger"><a ng-click="variants.delete( variant )"><span class="pficon pficon-delete"></span> Delete</a></li>
          </ul>
        </div>

        <h4 ng-click="variant.toggled = !variant.toggled"><i class="fa" ng-class="{ 'fa-plus-square-o': !variant.toggled, 'fa-minus-square-o': variant.toggled }"></i> {{ variant.name }}</h4>
        <ul class="list-inline">
          <li><i class="fa fa-ban"></i> No installation yet</li>
        </ul>

      </div><!-- vaiant header -->
      <div class="ups-variant-body" ng-show="variant.toggled">

        <p ng-show="variant.type == 'ios'">Apple's Push Network (APNs) will be used.
          To learn more about APNs, visit our <a href="http://aerogear.org/docs/unifiedpush/aerogear-push-ios/">iOS</a>
          or <a href="http://aerogear.org/docs/guides/aerogear-cordova/AerogearCordovaPush/">Apache Cordova</a> guides for push.
        </p>
        <p ng-show="variant.type == 'android'">Google's Cloud Messaging Network (GCM) will be used.
          To learn more about GCM, visit our <a href="http://aerogear.org/docs/unifiedpush/aerogear-push-android/">Android</a>, <a href='http://aerogear.org/docs/unifiedpush/aerogear-push-chrome/'>Chrome</a> or <a href="http://aerogear.org/docs/guides/aerogear-cordova/AerogearCordovaPush/">Apache Cordova</a> guides for push.
        </p>
        <p ng-show="variant.type == 'simplePush'">A Server implementing the <em>SimplePush</em> protocol will be used.
          More information can be found in <a href="https://wiki.mozilla.org/WebAPI/SimplePush/Protocol">SimplePush Protocol Draft</a>.
          The <a href="https://github.com/aerogear/aerogear-simplepush-quickstart">AeroGears' SimplePush Quickstart</a> also contains useful information.
        </p>
        <p ng-show="variant.type == 'adm'">Amazon's Device Messaging Network (ADM) will be used.
          To learn more about, visit our <a href="http://aerogear.org/docs/unifiedpush/aerogear-push-adm/">adm</a> or <a href="http://aerogear.org/docs/guides/aerogear-cordova/AerogearCordovaPush/">Apache Cordova</a> guides for push.
        </p>
        <dl class="dl-horizontal" ng-if="variant.type == 'android'">
          <dt>Project Number:</dt>
          <dd>{{ variant.projectNumber }}</dd>
          <dt>Google API Key:</dt>
          <dd>
            {{ variant.googleKey }}<br />
            <a href="#" class="btn btn-sm btn-primary"><span class="pficon pficon-refresh"></span> Change network options</a>
          </dd>
        </dl>
        <dl class="dl-horizontal" ng-show="variant.type == 'windows_wns'">
          <dt>Package SID:</dt>
          <dd>{{ variant.sid }}</dd>
          <dt>Client Secret:</dt>
          <dd>
            {{ variant.clientSecret }}<br />
            <a href="#" class="btn btn-sm btn-primary"><span class="pficon pficon-refresh"></span> Change network options</a>
          </dd>
        </dl>
        <dl class="dl-horizontal" ng-show="variant.production != undefined">
          <dt>Type:</dt>
          <dd>
            {{ variant.production ? 'Production' : 'Development' }}<br />
            <a href="#" class="btn btn-sm btn-primary"><span class="pficon pficon-refresh"></span> Change network options</a>
          </dd>
        </dl>
        <dl class="dl-horizontal" ng-show="variant.type == 'chrome'">
          <dt>Client Id:</dt>
          <dd>{{ variant.clientId }}</dd>
          <dt>Client Secret:</dt>
          <dd>{{ variant.clientSecret }}</dd>
          <dt>Refresh Token:</dt>
          <dd>
            {{ variant.refreshToken }}<br />
            <a href="#" class="btn btn-sm btn-primary"><span class="pficon pficon-refresh"></span> Change network options</a>
          </dd>
        </dl>
        <dl class="dl-horizontal" ng-show="variant.type == 'adm'">
          <dt>Client Id:</dt>
          <dd>{{ variant.clientId }}</dd>
          <dt>Client Secret:</dt>
          <dd>
            {{ variant.clientSecret }}<br />
            <a href="#" class="btn btn-sm btn-primary"><span class="pficon pficon-refresh"></span> Change network options</a>
          </dd>
        </dl>

        <ul class="nav nav-tabs nav-justified ups-snippet-nav">
          <li class="active"><a href="#">Android</a></li>
          <li><a href="#">Cordova</a></li>
        </ul>

        <div class="ups-snippet">
          <a href="#" data-toggle="tooltip" data-placement="left" title="Copy to clipboard">Copy</a>
  <pre class="pre-scrollable prettyprint">
  package com.push.pushapplication;

  import java.net.URI;
  import java.net.URISyntaxException;

  import org.jboss.aerogear.android.unifiedpush.PushConfig;
  import org.jboss.aerogear.android.unifiedpush.PushRegistrar;
  import org.jboss.aerogear.android.unifiedpush.Registrations;

  import android.app.Application;

  public class PushApplication extends Application {

      private final String VARIANT_ID       = "7d37fd1a-82c1-48c8-be94-6456f26075fc";
      private final String SECRET           = "c6dc8b14-0c6f-4f41-8835-2a87827ee1f4";
      private final String GCM_SENDER_ID    = "33";
      private final String UNIFIED_PUSH_URL = "http://localhost:8080/ag-push/";

      private PushRegistrar registration;

      @Override
      public void onCreate() {
          super.onCreate();

          Registrations registrations = new Registrations();

          try {
              PushConfig config = new PushConfig(new URI(UNIFIED_PUSH_URL), GCM_SENDER_ID);
              config.setVariantID(VARIANT_ID);
              config.setSecret(SECRET);
              config.setAlias(MY_ALIAS);

              registration = registrations.push("unifiedpush", config);

              registration.register(getApplicationContext(), new Callback() {
                  private static final long serialVersionUID = 1L;

                  @Override
                  public void onSuccess(Void ignore) {
                       Toast.makeText(MainActivity.this, "Registration Succeeded!",
                               Toast.LENGTH_LONG).show();
                 }

                 @Override
                 public void onFailure(Exception exception) {
                       Log.e("MainActivity", exception.getMessage(), exception);
                 }
              });

          } catch (URISyntaxException e) {
              throw new RuntimeException(e);
          }
      }
  }
  </pre>
        </div>

      </div><!-- variant content -->
    </div><!-- variant -->


  </div><!-- panel body -->
</div><!-- panel -->

<!--<pre>{{ variants.byType |json}}</pre>-->

<!--<pre>{{ appDetail.app |json }}</pre>-->
